{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// -------------------------------------------\n// https://pixabay.com/users/50311976/   ------   u_2ddhzk1lhb ---------\n//  My API key: 50311976-cfb8a0f5325f69922ed901f36\nconst API_KEY = '50311976-cfb8a0f5325f69922ed901f36';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nexport function fetchData(query) {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    })\n    .then(response => response.data.hits)\n    .catch(error => {\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// --------------------------------------------------------\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery li a', {});\n\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function renderGallery(images) {\n  if (images.length === 0) {\n    iziToast.show({\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      messageColor: '#fafafa',\n      messageSize: '16px',\n      messageLineHeight: '20px',\n      backgroundColor: '#ef4040',\n      progressBar: false,\n      position: 'topRight',\n    });\n    return;\n  }\n  const markup = images\n    .map(\n      image => `<li>\n          <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n          </a>\n          <ul class=\"gallery-info\">\n            <li>\n              <span class=\"gallery-info-subtitle\">Likes</span>\n              <span>${image.likes}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Views</span>\n              <span>${image.views}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Comments</span>\n              <span>${image.comments}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Downloads</span>\n              <span>${image.downloads}</span>\n            </li>\n          </ul>\n        </li>\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// ----------------------------------------------\nimport { fetchData } from './js/pixabay-api';\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n// ----------------------------------------------\n// const loader = document.querySelector('.loader');\nconst form = document.querySelector('.form');\nconst input = document.querySelector(\"input[name='search-text']\");\n// const gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const query = input.value.trim();\n  if (query === '') {\n    iziToast.show({\n      message: `No data`,\n      messageColor: '#fff',\n      messageSize: '16px',\n      messageLineHeight: '1.5',\n      backgroundColor: '#ffa000',\n      progressBar: false,\n      position: 'topRight',\n    });\n    form.reset();\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  fetchData(query)\n    .then(images => {\n      renderGallery(images);\n    })\n    .catch(() => {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        color: '#ef4040',\n        messageColor: '#fff',\n        maxWidth: '360px',\n        messageSize: '16',\n        messageLineHeight: '140%',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n"],"names":["API_KEY","BASE_URL","fetchData","query","axios","response","error","gallery","loader","lightbox","SimpleLightbox","showLoader","hideLoader","clearGallery","renderGallery","images","iziToast","markup","image","form","input","handleSubmit","event"],"mappings":"owBAIA,MAAMA,EAAU,qCAEVC,EAAW,2BACV,SAASC,EAAUC,EAAO,CAC/B,OAAOC,EACJ,IAAIH,EAAU,CACb,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,gBAAiB,CAAE,CAAA,EAEhD,SAASC,GAAa,CAC3BH,EAAO,MAAM,QAAU,OACzB,CAEO,SAASI,GAAa,CAC3BJ,EAAO,MAAM,QAAU,MACzB,CAEO,SAASK,GAAe,CAC7BN,EAAQ,UAAY,EACtB,CAEO,SAASO,EAAcC,EAAQ,CACpC,GAAIA,EAAO,SAAW,EAAG,CACvBC,EAAS,KAAK,CACZ,QAAS,2EACT,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,YAAa,GACb,SAAU,UAChB,CAAK,EACD,MACD,CACD,MAAMC,EAASF,EACZ,IACCG,GAAS;AAAA,qBACMA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKxCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKhC,EACA,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,YAAaU,CAAM,EAC9CR,EAAS,QAAO,CAClB,CCjDA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EAGhED,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMnB,EAAQiB,EAAM,MAAM,KAAI,EAC9B,GAAIjB,IAAU,GAAI,CAChBa,EAAS,KAAK,CACZ,QAAS,UACT,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,YAAa,GACb,SAAU,UAChB,CAAK,EACDG,EAAK,MAAK,EACV,MACD,CAEDN,IACAF,IAEAT,EAAUC,CAAK,EACZ,KAAKY,GAAU,CACdD,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,UACP,aAAc,OACd,SAAU,QACV,YAAa,KACb,kBAAmB,OACnB,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,IACAO,EAAK,MAAK,CAChB,CAAK,CACL"}